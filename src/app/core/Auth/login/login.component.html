<section
  class="border border-gray-200 shadow-xs rounded bg-gray-200 md:w-1/2 mx-auto p-4 px-6 mt-16"
>
  <div class="titel py-4">
    <h2 class="mb-3 text-green-600 font-medium text-3xl text-center">Login Now</h2>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="submitLoginForm()">
    <div class="mb-2">
      <label for="email" class="main-label">Email</label>
      <input
        formControlName="email"
        type="email"
        autocomplete="off"
        id="email"
        class="main-input"
        placeholder=""
      />

      @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (loginForm.get('email')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (loginForm.get('email')?.getError('email')) {
                <li>Must be Contain @ ...</li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="mb-2 relative">
      <label for="password" class="main-label">Password</label>
      <input
        formControlName="password"
        [type]="flagPassword === true ? 'password' : 'text'"
        autocomplete="off"
        id="password"
        class="main-input"
        placeholder=""
      />

      @if (loginForm.get('password')?.dirty && loginForm.get('password')?.value?.trim()) {
        <span
          (click)="showPassword()"
          class="absolute top-0 end-3 translate-y-[135%] cursor-pointer"
        >
          <i
            [class]="{
              'fa-eye': flagPassword === true,
              'fa-eye-slash': flagPassword === false,
            }"
            class="fas"
          >
          </i>
        </span>
      }

      @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (loginForm.get('password')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (loginForm.get('password')?.getError('pattern')) {
                <li>
                  Minimum eight characters, at least one upper case English letter, one lower case
                  English letter, one number and one special character
                </li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="flex flex-wrap justify-between items-center my-2">
      <a routerLink="/forgetpassword" class="text-blue-700 underline"> Forget Password </a>

      <button class="btn-main px-3">
        Login

        @if (isLoading()) {
          <span>
            <i class="fas fa-spinner animate-spin"></i>
          </span>
        }
      </button>
    </div>

    @if (errorMessege()) {
      <div
        class="flex justify-center p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert"
      >
        <span class="sr-only">Danger</span>

        <div class="text-center">
          <p class="text-center text-2xl">
            {{ errorMessege() }}
          </p>
        </div>
      </div>
    }
  </form>
</section>
