<section
  class="border border-gray-200 shadow-xs rounded bg-gray-200 md:w-1/2 mx-auto p-4 px-6 mt-16"
>
  <div class="titel py-4">
    <h2 class="mb-3 text-green-600 font-medium text-3xl text-center">Register Now</h2>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="submitRegisterForm()">
    <div class="mb-2">
      <label for="name" class="main-label">Your Name</label>
      <input
        formControlName="name"
        type="text"
        autocomplete="off"
        id="name"
        class="main-input"
        placeholder=""
      />

      @if (registerForm.get('name')?.errors && registerForm.get('name')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (registerForm.get('name')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (registerForm.get('name')?.getError('minlength')) {
                <li>Your Name Must Be More Than 3</li>
              } @else if (registerForm.get('name')?.getError('maxlength')) {
                <li>Your Name Must Be Less than 20</li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="mb-2">
      <label for="email" class="main-label">Email</label>
      <input
        formControlName="email"
        type="email"
        autocomplete="off"
        id="email"
        class="main-input"
        placeholder=""
      />

      @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (registerForm.get('email')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (registerForm.get('email')?.getError('email')) {
                <li>Must be Contain @ ...</li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="mb-2 relative">
      <label for="password" class="main-label">Password</label>
      <input
        formControlName="password"
        [type]="flagPassword === true ? 'password' : 'text'"
        autocomplete="off"
        id="password"
        class="main-input"
        placeholder=""
      />

      @if (registerForm.get('password')?.dirty && registerForm.get('password')?.value?.trim()) {
        <span
          (click)="showPassword()"
          class="absolute top-0 end-3 translate-y-[135%] cursor-pointer"
        >
          <i
            [class]="{
              'fa-eye': flagPassword === true,
              'fa-eye-slash': flagPassword === false,
            }"
            class="fas"
          >
          </i>
        </span>
      }

      @if (registerForm.get('password')?.errors && registerForm.get('password')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (registerForm.get('password')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (registerForm.get('password')?.getError('pattern')) {
                <li>
                  Minimum eight characters, at least one upper case English letter, one lower case
                  English letter, one number and one special character
                </li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="mb-2 relative">
      <label for="repassword" class="main-label">Confirm Password</label>
      <input
        formControlName="rePassword"
        [type]="flagRepassword === true ? 'password' : 'text'"
        autocomplete="off"
        id="repassword"
        class="main-input"
        placeholder=""
      />

      @if (registerForm.get('rePassword')?.dirty && registerForm.get('rePassword')?.value?.trim()) {
        <span
          (click)="showRepassword()"
          class="absolute top-0 end-3 translate-y-[135%] cursor-pointer"
        >
          <i
            [class]="{
              'fa-eye': flagRepassword === true,
              'fa-eye-slash': flagRepassword === false,
            }"
            class="fas"
          >
          </i>
        </span>
      }

      @if (registerForm.getError('missMatch') && registerForm.get('rePassword')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              <li>confirmation password is incorrect</li>
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="mb-4">
      <label for="phone" class="main-label">phone</label>
      <input
        formControlName="phone"
        type="tel"
        autocomplete="off"
        id="phone"
        class="main-input"
        placeholder=""
      />

      @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched) {
        <div
          class="flex p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
          role="alert"
        >
          <span class="sr-only">Danger</span>
          <div>
            <ul class="mt-1 list-disc list-outside space-y-1 ps-2.5">
              @if (registerForm.get('phone')?.getError('required')) {
                <li>input Is Required</li>
              } @else if (registerForm.get('phone')?.getError('pattern')) {
                <li>Enter Egyptian Phone Number</li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    <div class="flex flex-wrap justify-end">
      <button class="btn-main px-3">
        Register

        @if (isLoading()) {
          <span>
            <i class="fas fa-spinner animate-spin"></i>
          </span>
        }
      </button>
    </div>

    @if (errorMessege()) {
      <div
        class="flex justify-center p-4 mt-0.75 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft border border-danger-subtle"
        role="alert"
      >
        <span class="sr-only">Danger</span>

        <div class="text-center">
          <p class="text-center text-2xl">
            {{ errorMessege() }}
          </p>
        </div>
      </div>
    }
  </form>
</section>
